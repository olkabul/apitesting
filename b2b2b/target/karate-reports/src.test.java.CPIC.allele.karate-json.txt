{"failedCount":0,"prefixedPath":"src\/test\/java\/CPIC\/allele.feature","packageQualifiedName":"src.test.java.CPIC.allele","loopIndex":-1,"relativePath":"src\/test\/java\/CPIC\/allele.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2556000,"millis":2.556,"status":"passed"},"step":{"background":true,"line":4,"prefix":"Given","index":0,"text":"url \"https:\/\/api.cpicpgx.org\/v1\""},"stepLog":"12:45:33.743 karate.env system property was: null \n"},{"result":{"nanos":183274800,"millis":183.2748,"status":"passed"},"step":{"line":7,"prefix":"*","index":0,"text":"def schema = read('classpath:CPIC\/helpers\/schemas\/allele.json')"}},{"result":{"nanos":1147000,"millis":1.147,"status":"passed"},"step":{"line":8,"prefix":"Given","index":1,"text":"path 'allele'"}},{"result":{"nanos":2621700,"millis":2.6217,"status":"passed"},"step":{"line":9,"prefix":"Given","index":2,"text":"param genesymbol = \"eq.CYP2D6\""}},{"result":{"nanos":1556100,"millis":1.5561,"status":"passed"},"step":{"line":10,"prefix":"Given","index":3,"text":"param name = \"eq.*1\""}},{"result":{"nanos":2018143500,"millis":2018.1435,"status":"passed"},"step":{"line":11,"prefix":"When","index":4,"text":"method get"},"stepLog":"12:45:34.735 request:\n1 > GET https:\/\/api.cpicpgx.org\/v1\/allele?genesymbol=eq.CYP2D6&name=eq.*1\n1 > Host: api.cpicpgx.org\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/20.0.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n12:45:36.048 response time in milliseconds: 1293\n1 < 200\n1 < Server: nginx\/1.10.3 (Ubuntu)\n1 < Date: Tue, 30 May 2023 09:45:35 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Range: 0-0\/*\n1 < Content-Location: \/v1\/\/allele?genesymbol=eq.CYP2D6&name=eq.%2A1\n[{\"id\":777937,\"version\":151,\"genesymbol\":\"CYP2D6\",\"name\":\"*1\",\"functionalstatus\":null,\"clinicalfunctionalstatus\":\"Normal function\",\"clinicalfunctionalsubstrate\":null,\"activityvalue\":\"1.0\",\"definitionid\":777936,\"citations\":[],\"strength\":null,\"functioncomments\":null,\"findings\":null,\"frequency\":{\"Latino\": 0.36455274, \"American\": 0.5008011, \"European\": 0.28500712, \"Oceanian\": 0.6170194, \"East Asian\": 0.25778997, \"Near Eastern\": 0.24876314, \"Central\/South Asian\": 0.29324096, \"Sub-Saharan African\": 0.041160643, \"African American\/Afro-Caribbean\": 0.21115738},\"inferredfrequency\":true}]\n\n"},{"result":{"nanos":263000,"millis":0.263,"status":"passed"},"step":{"line":12,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":42892500,"millis":42.8925,"status":"passed"},"step":{"line":13,"prefix":"And","index":6,"text":"match response == schema"}},{"result":{"nanos":10528300,"millis":10.5283,"status":"passed"},"step":{"comments":["# And match response == schema"],"line":15,"prefix":"*","index":7,"text":"def allFrequencies = karate.map(response, function(x){ return x.frequency })"}},{"result":{"nanos":20841500,"millis":20.8415,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def isValidFrequency = function(x) { return x < 1 || x === null }"}},{"result":{"nanos":62745500,"millis":62.7455,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"def frequenciesValid = karate.forEach(allFrequencies, isValidFrequency)"}},{"result":{"nanos":13559600,"millis":13.5596,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"def invalidFrequiencies = karate.filter(frequenciesValid, function(x){ return x === false })"}},{"result":{"nanos":5501100,"millis":5.5011,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"match invalidFrequiencies == []"}}],"executorName":"com.intuit.karate.cli.Main.main()","line":6,"name":"Verify that each ethnicity frequency is lower than 1 or null","description":"","durationMillis":2365.6306,"startTime":1685439933051,"failed":false,"refId":"[1:6]","endTime":1685439936218,"exampleIndex":-1}],"callDepth":0,"name":"operations with allele properties","description":"","resultDate":"2023-05-30 12:45:36 pm","durationMillis":2365.6306,"passedCount":1}